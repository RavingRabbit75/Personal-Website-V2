"use strict";var mysite={};mysite.header={initHeader:function(){var e=$("#sectionName").data();switch(mysite.header.startTime(),mysite.header.setupHeaderBtns(),mysite.header.animateInSectionIndicator(e.name),e.name){case"profile":mysite.profile.initProfile();break;case"projects":mysite.projects.initProjects()}},setupHeaderBtns:function(){function e(e){TweenMax.to(e.target,.5,{color:"#f5b730"})}function t(e){TweenMax.to(e.target,.25,{color:"#efc978"})}var a=document.getElementById("profile-btn"),o=document.getElementById("projects-btn");a.addEventListener("mouseover",e),a.addEventListener("mouseout",t),o.addEventListener("mouseover",e),o.addEventListener("mouseout",t),$(".iconover").mouseover(function(e){TweenMax.to(e.target,.5,{opacity:1})}),$(".iconover").mouseout(function(e){TweenMax.to(e.target,.25,{opacity:0})})},animateInSectionIndicator:function(e){switch(e){case"profile":t=document.getElementById("profile-btn-indicator");break;case"projects":var t=document.getElementById("projects-btn-indicator")}TweenMax.to(t,1,{width:"100%",ease:Power4.easeOut})},startTime:function(){var e=new Date,t=e.getFullYear(),a=function(e){var t=new Array;return t[0]="January",t[1]="February",t[2]="March",t[3]="April",t[4]="May",t[5]="June",t[6]="July",t[7]="August",t[8]="September",t[9]="October",t[10]="November",t[11]="December",t[e]}(e.getMonth()),o=e.getDate(),n=function(e){switch(e){case 0:n="Sunday";break;case 1:n="Monday";break;case 2:n="Tuesday";break;case 3:n="Wednesday";break;case 4:n="Thursday";break;case 5:n="Friday";break;case 6:n="Saturday";break;default:console.log("no day picked")}return n}(e.getDay()),i="AM",r=(function(e){e>12?(e-=12,i="PM"):0==e&&(e=12)}(e.getHours()),e.getMinutes());r=function(e){return e<10&&(e="0"+e),e}(r),document.getElementById("current-date").innerHTML=n+" "+a+" "+o+", "+t;setTimeout(function(){mysite.header.startTime()},1e4)}},mysite.projects={initProjects:function(){mysite.projects.setupPreviewButtons()},disablePreviewButtons:function(e){for(var t=$("#"+e).find(".block-button-wrapper"),a=0;a<t.length;a++)t[a].classList.remove("enable-btn"),t[a].classList.add("disable-btn")},enablePreviewButtons:function(e){for(var t=$("#"+e).find(".block-button-wrapper"),a=0;a<t.length;a++)t[a].classList.remove("disable-btn"),t[a].classList.add("enable-btn")},disableSelectedButton:function(e,t){var a=$("#btn"+t+"_"+e);a[0].classList.remove("enable-btn"),a[0].classList.add("disable-btn")},setupPreviewButtons:function(){$(".block-button-wrapper").click(function(e){function t(e){var t=$("div[id*='"+n+"'].top"),o=$("div[id*='"+n+"'].top").height(),i=$("div[id*='"+n+"'].top").find(".shadow-on"),r=$("div[id*='"+n+"'].bottom"),s=$("div[id*='"+n+"'].bottom").find(".shadow-off");a(),TweenMax.to(t,.75,{top:"-"+o+"px"});for(var c=0;c<s.length;c++)TweenMax.to(s[c],.3,{padding:"0px",delay:.7}),c===s.length-1?TweenMax.to(s[c],.3,{boxShadow:"0 0 5px rgba(0, 0, 0, .4)",delay:1,onComplete:function(){t[0].classList.remove("top","previews-row"),t[0].classList.add("bottom","previews-row2");for(var e=0;e<i.length;e++)i[e].classList.remove("shadow-on"),i[e].classList.add("shadow-off");t.css({top:"5px"}),i.css({padding:"8px",boxShadow:"0 0 0 rgba(0, 0, 0, .4)"}),r[0].classList.remove("bottom","previews-row2"),r[0].classList.add("top","previews-row");for(var a=0;a<i.length;a++)s[a].classList.remove("shadow-off"),s[a].classList.add("shadow-on");mysite.projects.enablePreviewButtons(n),mysite.projects.disableSelectedButton(n,d.imageidx)}}):TweenMax.to(s[c],.3,{boxShadow:"0 0 5px rgba(0, 0, 0, .4)",delay:1})}function a(){function e(){TweenMax.to(t,.5,{width:"38px",x:a+"px"})}var t=$("#"+n).find(".current-image-indicator"),a=42*(d.imageidx-1),o=t.position().left+19+"px";TweenMax.to(t,.4,{width:"0",x:o,onComplete:function(){var o=a+19+"px";TweenMax.to(t,0,{x:o,onComplete:e})}})}function o(e){r[0].style.visibility="hidden",e.stop(),e.pause(0,!0)}var n=e.target.dataset.projid,i=e.target.dataset.projid.replace(/-/g," ");mysite.projects.disablePreviewButtons(n);var r=$("#"+n).find(".loading"),s=new TimelineMax;s.to(r,.75,{alpha:.1,repeatDelay:0,repeat:-1,yoyo:!0}),function(e){r[0].style.visibility="visible",e.play()}(s);var d={imageidx:e.target.dataset.imageidx,projname:i};$.get({url:"/api/projects",data:d,success:function(e){for(var a=$("div[id*='"+n+"'].bottom").find(".image"),i=0,r=0;r<a.length;r++)!function(n){function r(){i++,a[n].removeEventListener("load",r),i>=a.length&&(o(s),t(e.length))}a[n].src="",a[n].addEventListener("load",r),a[n].src="static/"+e[n].path}(r)},dataType:"json"})}),$(".block-button-wrapper").on("mouseover",function(e){var t=e.target.getElementsByClassName("block-button");TweenMax.to(t,.75,{height:"15px",ease:Power4.easeOut})}),$(".block-button-wrapper").on("mouseout",function(e){var t=e.target.getElementsByClassName("block-button");TweenMax.to(t,.4,{height:"5px",ease:Power2.easeIn})});document.getElementById("Weather Animator_a"),document.getElementById("Weather Animator_b");for(var e=[],t=0;t<projectData.length;t++){var a=document.getElementById(projectData[t].projid).getElementsByClassName("block-button");e.push(a)}}},mysite.profile={initProfile:function(){}};